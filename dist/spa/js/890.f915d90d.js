"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[890],{3890:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var n=a(9835),s=a(6970);const l={class:"q-pa-md q-mt-lg q-ml-lg"},o={key:0,class:"text-center q-pa-lg"},c={class:"loading-page"},i={class:"text-h6 page-title text-dark col-12 col-md-8"},r=(0,n.Uk)(" Announcements "),d={key:0,class:"no-data-found q-mt-md"},m=(0,n.Uk)(" No announcements yet. "),u={class:"page-title text-red-15 col-12 col-md-8"},g={class:"text-h6"},p={class:"col-12 col-md-4"},w={class:"counters text-center"},_={class:"q-ml-md text-green-14"},h=(0,n._)("span",{class:"q-mx-md"},"|",-1),f={class:"q-ml-md text-green-14"};function v(e,t,a,v,x,b){const q=(0,n.up)("q-spinner-ios"),y=(0,n.up)("q-icon"),k=(0,n.up)("q-card-section"),A=(0,n.up)("q-separator"),W=(0,n.up)("q-card"),D=(0,n.up)("q-pagination");return(0,n.wg)(),(0,n.iD)("div",l,[e.is_loading?((0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",c,[(0,n.Wm)(q,{color:"white",size:"3rem"})])])):((0,n.wg)(),(0,n.j4)(W,{key:1,bordered:"",class:"my-card",elevated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"row"},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(y,{name:"feedback"}),r])])),_:1}),(0,n.Wm)(A,{inset:""}),e.announcementsList.length<=0?((0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(y,{name:"warning"}),m])):((0,n.wg)(),(0,n.j4)(k,{key:1},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.announcementsList,((e,t)=>((0,n.wg)(),(0,n.j4)(W,{class:"bg-red-1 q-mb-md shadow-6",key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"row"},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.Wm)(y,{name:"campaign",class:"text-h4"}),(0,n._)("span",g,(0,s.zw)(e.title),1)]),(0,n._)("div",p,[(0,n._)("div",w,[(0,n.Wm)(y,{name:"visibility",class:"text-red-15"}),(0,n._)("b",_,(0,s.zw)(e.vcount),1),h,(0,n.Wm)(y,{name:"event_available",class:"text-red-15"}),(0,n._)("b",f,(0,s.zw)(b.formatDate(e.pdate)),1)])])])),_:2},1024),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n._)("small",null,(0,s.zw)(e.details),1)])),_:2},1024)])),_:2},1024)))),128)),e.max_page>0?((0,n.wg)(),(0,n.j4)(D,{key:0,modelValue:e.current,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.current=t),t[1]||(t[1]=e=>b.getAllAnnouncements())],max:e.max_page,"direction-links":"",flat:"",color:"grey","active-color":"primary"},null,8,["modelValue","max"])):(0,n.kq)("",!0)])),_:1}))])),_:1}))])}var x=a(6827);const b={data:()=>({announcementsList:[],is_loading:!0,current:1,size:3,max_page:0}),computed:{},mounted(){this.initApp()},watch:{},methods:{initApp(){this.getAllAnnouncements()},async getAllAnnouncements(){let e=this;e.is_loading=!0;let t={page:e.current,size:e.size,order:"id:desc",search:""},{data:a,status:n}=await e.$store.dispatch("admin_api/getAllAnnouncements",t);[200,201].includes(n)?(e.announcementsList=a.rows,e.max_page=a.tpage,e.is_loading=!1):(x.Z.create("Something went during request for list of announcments","red"),e.is_loading=!1)},formatDate(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(e);let n=t[a.getMonth()];return`${n} ${a.getDay()}, ${a.getFullYear()}`}}};var q=a(1639),y=a(8359),k=a(4458),A=a(3190),W=a(2857),D=a(926),z=a(996),Z=a(9984),Q=a.n(Z);const S=(0,q.Z)(b,[["render",v]]),j=S;Q()(b,"components",{QSpinnerIos:y.Z,QCard:k.Z,QCardSection:A.Z,QIcon:W.Z,QSeparator:D.Z,QPagination:z.Z})}}]);